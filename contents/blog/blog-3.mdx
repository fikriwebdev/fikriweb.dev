---
title: "Handle dark / light mode using next theme"
date: "13 May 2023"
description: "Tutorial about dark / light theme using next-theme library"
image: "/assets/images/dark-mode.jpeg"
tags: "nextjs"
---

## Introduction

In order to handle dark/light mode using the next-theme library, it's important to have a good understanding of the React framework. React is a popular JavaScript library for building user interfaces, and Next.js is a framework built on top of React that simplifies the process of creating server-rendered React applications.

If you're new to React, it's recommended to familiarize yourself with the basics of React components, state management, and lifecycle methods. Understanding these concepts will provide a solid foundation for implementing dark/light mode functionality using the next-theme library.

Once you feel comfortable with React, you can proceed with installing and setting up Next.js in your project. Next.js provides an easy way to create a new React application with built-in server-side rendering capabilities and other useful features. You can follow the official Next.js documentation to install and set up Next.js in your project.

## Installing and Configuring next-theme

To handle dark/light mode, we will be using the next-theme library, which provides a straightforward way to manage theme preferences in Next.js applications. To install next-theme, open your terminal and navigate to your project directory. Then, run the following command:

```terminal title="terminal"
npm install next-theme
```

Once the installation is complete, you can configure next-theme in your Next.js application. Open the file where your Next.js application is defined (typically pages/\_app.js), and import the necessary dependencies:

```tsx title="/app/layout.tsx"
import { ThemeProvider } from "next-theme";
import { useEffect } from "react";
```

Next, define a custom \_app component and wrap it with the ThemeProvider component provided by next-theme. This allows the theme to be accessible throughout your application:

```tsx title="/app/layout.tsx"
function MyApp({ Component, pageProps }) {
    useEffect(() => {
        // Code to set initial theme based on user preference or system settings
    }, []);

    return (
        <ThemeProvider>
            <Component {...pageProps} />
        </ThemeProvider>
    );
}

export default MyApp;
```

Inside the useEffect hook, you can add code to set the initial theme based on the user's preference or system settings. This can be achieved using JavaScript's localStorage, a server-side check, or any other method you prefer.

## Implementing Dark/Light Mode Toggle

With next-theme configured, you can now proceed to implement the dark/light mode toggle functionality. In your React components, you can use the useTheme hook provided by next-theme to access the current theme and toggle function:

```tsx
import { useTheme } from "next-theme";

function MyComponent() {
    const { theme, toggleTheme } = useTheme();

    return (
        <div>
            <button onClick={toggleTheme}>
                Switch to {theme === "dark" ? "light" : "dark"} mode
            </button>
        </div>
    );
}

export default MyComponent;
```

In the above example, we import the useTheme hook from next-theme and use it to retrieve the current theme and the toggleTheme function. The toggleTheme function can be called to switch between the dark and light modes.

By adding the toggleTheme function to a button or any other user interface element, you provide users with a way to switch between dark and light modes.

## Styling Components Based on the Theme

To complete the dark/light mode implementation, you can style your components based on the current theme. The next-theme library provides a ThemeProvider component that automatically adds the theme class to the root element of your application. This class can be used to apply different styles based on the theme.

For example, you can define CSS styles for your components

### example h3
